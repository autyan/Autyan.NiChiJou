function isEmpty(n){if(n==null)return!0;if(n.length>0)return!1;if(n.length===0)return!0;for(var t in n)if(hasOwnProperty.call(n,t))return!1;return!0}function ajaxFailure(n){switch(n.status){case 404:Msg("未找到您选择的页面，请重试！",{title:"提示！"});return;case 0:Msg("请求错误，请检查网络连接！",{title:"提示！"});return}}function ajaxSuccess(n,t,i){IsNullOrEmpty(n.PostForm)||$("#"+n.PostForm).submit();!IsNullOrEmpty(i)&&IsFunction(i)&&i(n,t)}function ajaxComplete(n){var t,i;n.responseJSON&&(t=n.responseJSON,IsNullOrEmpty(t.Message)||(i=t.Message,t.Exception!==null&&(i+="<br/>ExceptionInfo:<br/>"+t.Exception),Msg(i,{title:"提示！"})))}var base={},Msg;base.AjaxGet=function(n,t,i){n=n+"?t="+Date.now();$.ajax(n,{type:"GET",data:t,success:function(n){ajaxSuccess(n,t,i)},error:function(n){ajaxFailure(n,t)},complete:function(n){ajaxComplete(n)}})};base.AjaxPost=function(n,t,i){n=n+"?t="+Date.now();$.ajax(n,{type:"POST",data:t,success:function(n){ajaxSuccess(n,t,i)},error:function(n){ajaxFailure(n,t)},complete:function(n){ajaxComplete(n)}})};var trimStr=function(n){return n?n.replace(/^\s+|\s+$/,""):""},IsNullOrEmpty=function(n){try{return typeof n=="function"?!1:n.length===0?!0:!1}catch(t){return n?typeof n=="string"&&trimStr(n)===""?!0:typeof n=="number"&&isNaN(n)?!0:!1:!0}},IsFunction=function(n){return typeof n=="function"},hasOwnProperty=Object.prototype.hasOwnProperty;Msg=function(n,t){var i=$("#baseModal");if(t.title!==null&&(i.find(".modal-title").empty(),i.find(".modal-title").append("<h3>"+t.title+"<\/h3>")),i.find(".modal-body").empty(),i.find(".modal-body").append(n),i.find(".btn-default").empty(),IsNullOrEmpty(t.cancel)?i.find(".btn-default").append("关闭"):i.find(".btn-default").append(t.cancel),i.find(".btn-main").hide(),IsNullOrEmpty(t.confirm)||(i.find(".btn-main").show().innerHTML=t.confirm),i.modal({show:!0,keyboard:!0}),!IsNullOrEmpty(t.callback)){$("#modal-confirm").off();$("#modal-confirm").on("click",function(){t.callback(t.param)})}setTimeout(function(){$("#modal-cancel").focus()},200)};